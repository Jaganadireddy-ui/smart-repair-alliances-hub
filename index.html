<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Service Booking</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f5f5f5;
}

.service-btn {
  width: 100%;
  padding: 12px;
  margin: 5px 0;
  background: #007bff;
  color: white;
  border: none;
  font-size: 16px;
}

.items {
  display: none;
  background: #fff;
  padding: 10px;
  margin-bottom: 10px;
}

.items div {
  padding: 8px;
  border-bottom: 1px solid #ddd;
  cursor: pointer;
}

#formBox {
  display: none;
  background: white;
  padding: 15px;
  margin-top: 10px;
}

input, textarea {
  width: 100%;
  padding: 8px;
  margin: 6px 0;
}

.btn-green {
  background: green;
  color: white;
  padding: 10px;
  border: none;
  width: 100%;
}

.btn-red {
  background: red;
  color: white;
  padding: 10px;
  border: none;
  width: 100%;
  margin-top: 5px;
}
</style>
</head>

<body>

<!-- SERVICE BUTTONS -->
<button class="service-btn" onclick="toggleService('ac')">AC</button>
<div class="items" id="ac">
  <div onclick="openForm('AC Repair')">AC Repair</div>
</div>

<button class="service-btn" onclick="toggleService('cooler')">Cooler</button>
<div class="items" id="cooler">
  <div onclick="openForm('Cooler Repair')">Cooler Repair</div>
</div>

<button class="service-btn" onclick="toggleService('microwave')">Microwave</button>
<div class="items" id="microwave">
  <div onclick="openForm('Microwave Repair')">Microwave Repair</div>
</div>

<!-- FORM -->
<div id="formBox">
  <h3 id="serviceName"></h3>

  <form id="serviceForm">
    <input id="custName" placeholder="Customer Name" required>
    <input id="custMobile" placeholder="Mobile Number" required>
    <textarea id="custIssue" placeholder="Issue" required></textarea>
    <textarea id="custAddress" placeholder="Address" required></textarea>

    <button type="button" class="btn-green" onclick="sendWhatsApp()">Send WhatsApp</button>
    <button type="button" class="btn-red" onclick="closeForm()">Close</button>
  </form>
</div>

<script>
let selectedService = "";

function toggleService(id){
  // hide all dropdowns
  document.querySelectorAll(".items").forEach(el => {
    el.style.display = "none";
  });

  // show selected
  document.getElementById(id).style.display = "block";

  // reset & hide form
  document.getElementById("serviceForm").reset();
  document.getElementById("formBox").style.display = "none";
}

function openForm(service){
  selectedService = service;
  document.getElementById("serviceName").innerText = service;

  // IMPORTANT: RESET OLD DATA
  document.getElementById("serviceForm").reset();

  document.getElementById("formBox").style.display = "block";
}

function closeForm(){
  document.getElementById("formBox").style.display = "none";
  document.getElementById("serviceForm").reset();
}

function sendWhatsApp(){
  let name = custName.value;
  let mobile = custMobile.value;
  let issue = custIssue.value;
  let address = custAddress.value;

  let msg = `Service: ${selectedService}%0AName: ${name}%0AMobile: ${mobile}%0AIssue: ${issue}%0AAddress: ${address}`;

  window.open(`https://wa.me/91XXXXXXXXXX?text=${msg}`, "_blank");
}
</script>

</body>
</html>
